<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="U5x6ESJ1YnKH0odXTveWzCIbAv_ZTtKLIyBOrKxvRXM">
  <title>Gadget Cave</title>
  <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/babel-standalone@7.22.9/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }
    .logo {
      height: 85px;
      width: auto;
    }
    .whatsapp-btn {
      background-color: #25D366;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }
    .whatsapp-btn:hover {
      background-color: #20b358;
    }
    .cart-btn {
      background-color: #3b82f6;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 10px;
    }
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .popup-content {
      background: white;
      border-radius: 10px;
      max-width: 90%;
      max-height: 90%;
      overflow-y: auto;
      padding: 20px;
      position: relative;
    }
    .popup-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 22px;
      cursor: pointer;
      font-weight: bold;
      border: none;
      background: none;
    }
    @media (max-width: 600px) {
      .popup-content {
        max-width: 95%;
        max-height: 95%;
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <div id="root">
    <p>Loading Gadget Cave... If this persists, check the console for errors.</p>
  </div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Product data
    const initialProducts = [
      {
        name: "Wireless Earphones-CMF BY NOTHING",
        image: "https://i.ibb.co/cXhm2q40/earphones.jpg",
        description: "High-quality sound and battery life.",
        price: "â‚¹899",
        longDescription: "Enjoy crisp and clear sound with deep bass. Battery lasts up to 10 hours per charge.",
        extraImages: [],
        category: "Earphones",
        rating: 4.5
      },
      {
        name: "HEADPHONES-P9",
        image: "https://i.ibb.co/vCJrF2NZ/headphonesp9.jpg",
        description: "High quality, C-type charging",
        price: "â‚¹699",
        longDescription: "",
        extraImages: [],
        category: "Headphones",
        rating: 4.2
      },
      {
        name: "Samsung Watch with Airpods",
        image: "https://i.ibb.co/S4KZqPkG/samsung-watch-with-airpods.jpg",
        description: "Fitness tracker and call support.",
        price: "â‚¹1199",
        longDescription: "",
        extraImages: [],
        category: "Combos",
        rating: 4.7
      },
      // Add remaining products here (truncated for brevity)
      {
        name: "DELTON watch",
        image: "https://i.ibb.co/8gmpXQXH/delton-watch-1-0.jpg",
        description: "click more detailsâ˜ï¸.",
        price: "â‚¹599",
        longDescription: "AWESOME QUALITY, LATEST ARRIVALS, UNISEX WATCHES, TRENDING MODEL",
        extraImages: [
          "https://i.ibb.co/cpTJjYG/delton-watch-1-1.jpg",
          "https://i.ibb.co/2HrhckZ/delton-watch-1-2.jpg"
        ],
        category: "Watches",
        rating: 4.3
      }
    ];

    const App = () => {
      const [products] = useState(initialProducts);
      const [filteredProducts, setFilteredProducts] = useState(initialProducts);
      const [searchTerm, setSearchTerm] = useState("");
      const [selectedCategory, setSelectedCategory] = useState("All");
      const [priceRange, setPriceRange] = useState([0, 2000]);
      const [ratingFilter, setRatingFilter] = useState(0);
      const [cart, setCart] = useState([]);
      const [currentPage, setCurrentPage] = useState(1);
      const [showPopup, setShowPopup] = useState(false);
      const [selectedProduct, setSelectedProduct] = useState(null);
      const productsPerPage = 6;

      useEffect(() => {
        let filtered = products;
        if (searchTerm) {
          filtered = filtered.filter(
            (p) =>
              p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
              p.description.toLowerCase().includes(searchTerm.toLowerCase()) ||
              p.category.toLowerCase().includes(searchTerm.toLowerCase()) ||
              p.longDescription.toLowerCase().includes(searchTerm.toLowerCase())
          );
        }
        if (selectedCategory !== "All") {
          filtered = filtered.filter((p) => p.category === selectedCategory);
        }
        filtered = filtered.filter(
          (p) => {
            const priceNum = parseInt(p.price.replace("â‚¹", ""));
            return priceNum >= priceRange[0] && priceNum <= priceRange[1];
          }
        );
        filtered = filtered.filter((p) => p.rating >= ratingFilter);
        setFilteredProducts(filtered);
        setCurrentPage(1);
      }, [searchTerm, selectedCategory, priceRange, ratingFilter]);

      const addToCart = (product) => {
        setCart([...cart, product]);
        alert(`${product.name} added to cart!`);
      };

      const openPopup = (product) => {
        setSelectedProduct(product);
        setShowPopup(true);
        document.body.style.overflow = "hidden";
      };

      const closePopup = () => {
        setShowPopup(false);
        document.body.style.overflow = "auto";
      };

      const indexOfLastProduct = currentPage * productsPerPage;
      const indexOfFirstProduct = indexOfLastProduct - productsPerPage;
      const currentProducts = filteredProducts.slice(indexOfFirstProduct, indexOfLastProduct);
      const totalPages = Math.ceil(filteredProducts.length / productsPerPage);
      const categories = ["All", "Earphones", "Watches", "Headphones", "Speakers", "Trimmers", "Powerbanks", "Combos", "Others"];

      return (
        <div className="min-h-screen bg-gray-100">
          <header className="bg-white shadow p-4">
            <div className="flex items-center justify-between flex-wrap gap-4">
              <div className="flex items-center gap-4">
                <img src="https://i.ibb.co/FbsdpgK3/gadged-cave-3.png" alt="Logo" className="logo" />
                <h1 className="text-2xl font-bold text-gray-800">Gadget Cave</h1>
              </div>
              <div className="flex items-center gap-4">
                <input
                  type="text"
                  placeholder="Search products..."
                  className="border rounded-lg p-2 w-full max-w-md"
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                />
                <div className="relative">
                  <span className="bg-green-500 text-white rounded-full px-2 py-1">{cart.length}</span>
                  <span className="ml-2 text-gray-800">Cart</span>
                </div>
              </div>
            </div>
          </header>

          <div className="container mx-auto p-4 flex flex-col md:flex-row gap-4">
            <aside className="w-full md:w-1/4 p-4 bg-white rounded-lg shadow">
              <h2 className="text-xl font-semibold mb-4">Filters</h2>
              <div className="mb-4">
                <h3 className="font-medium mb-2">Category</h3>
                {categories.map((category) => (
                  <div key={category} className="flex items-center">
                    <input
                      type="radio"
                      id={category}
                      name="category"
                      checked={selectedCategory === category}
                      onChange={() => setSelectedCategory(category)}
                      className="mr-2"
                    />
                    <label htmlFor={category}>{category}</label>
                  </div>
                ))}
              </div>
              <div className="mb-4">
                <h3 className="font-medium mb-2">Price Range</h3>
                <input
                  type="range"
                  min="0"
                  max="2000"
                  value={priceRange[0]}
                  onChange={(e) => setPriceRange([+e.target.value, priceRange[1]])}
                  className="w-full"
                />
                <input
                  type="range"
                  min="0"
                  max="2000"
                  value={priceRange[1]}
                  onChange={(e) => setPriceRange([priceRange[0], +e.target.value])}
                  className="w-full"
                />
                <div className="flex justify-between text-sm">
                  <span>â‚¹{priceRange[0]}</span>
                  <span>â‚¹{priceRange[1]}</span>
                </div>
              </div>
              <div>
                <h3 className="font-medium mb-2">Minimum Rating</h3>
                <input
                  type="range"
                  min="0"
                  max="5"
                  step="0.5"
                  value={ratingFilter}
                  onChange={(e) => setRatingFilter(+e.target.value)}
                  className="w-full"
                />
                <div className="text-sm text-center">â˜… {ratingFilter}</div>
              </div>
            </aside>

            <main className="w-full md:w-3/4 p-4">
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {currentProducts.map((product) => (
                  <div
                    key={product.name}
                    className="bg-white p-4 rounded-lg shadow hover:shadow-lg transition-shadow duration-300 cursor-pointer"
                    onClick={() => openPopup(product)}
                  >
                    <img
                      src={product.image}
                      alt={product.name}
                      className="w-full h-40 object-contain mb-4"
                    />
                    <h2 className="text-lg font-semibold">{product.name}</h2>
                    <p className="text-gray-600 text-sm">{product.description}</p>
                    <p className="text-gray-800 font-bold">{product.price}</p>
                    <p className="text-yellow-500">{'â˜…'.repeat(Math.floor(product.rating))}</p>
                    <a
                      href={`https://wa.me/919744340057?text=I'm%20interested%20in%20${encodeURIComponent(product.name)}`}
                      target="_blank"
                      onClick={(e) => e.stopPropagation()}
                    >
                      <button className="whatsapp-btn">Order on WhatsApp</button>
                    </a>
                    <button
                      className="cart-btn"
                      onClick={(e) => {
                        e.stopPropagation();
                        addToCart(product);
                      }}
                    >
                      Add to Cart
                    </button>
                  </div>
                ))}
              </div>

              <div className="flex justify-center mt-6 gap-2">
                <button
                  className="px-4 py-2 bg-gray-200 rounded disabled:opacity-50"
                  disabled={currentPage === 1}
                  onClick={() => setCurrentPage(currentPage - 1)}
                >
                  Previous
                </button>
                {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (
                  <button
                    key={page}
                    className={`px-4 py-2 ${currentPage === page ? 'bg-green-500 text-white' : 'bg-gray-200'} rounded`}
                    onClick={() => setCurrentPage(page)}
                  >
                    {page}
                  </button>
                ))}
                <button
                  className="px-4 py-2 bg-gray-200 rounded disabled:opacity-50"
                  disabled={currentPage === totalPages}
                  onClick={() => setCurrentPage(currentPage + 1)}
                >
                  Next
                </button>
              </div>
            </main>
          </div>

          {showPopup && selectedProduct && (
            <div className="popup-overlay" onClick={closePopup}>
              <div className="popup-content" onClick={(e) => e.stopPropagation()}>
                <button className="popup-close" onClick={closePopup}>Ã—</button>
                <h2 className="text-xl font-semibold mb-4">{selectedProduct.name}</h2>
                <div className="flex flex-col gap-4">
                  {[selectedProduct.image, ...(selectedProduct.extraImages || [])].map((imgUrl, index) => (
                    <img
                      key={index}
                      src={imgUrl}
                      alt={`${selectedProduct.name} ${index}`}
                      className="w-full max-h-60 object-contain rounded"
                    />
                  ))}
                </div>
                <p className="text-gray-800 mt-4">
                  {selectedProduct.description}
                  {selectedProduct.longDescription && selectedProduct.longDescription !== selectedProduct.description && (
                    <>
                      <br /><br />
                      {selectedProduct.longDescription}
                    </>
                  )}
                </p>
                <p className="text-gray-800 font-bold mt-2">{selectedProduct.price}</p>
                <a
                  href={`https://wa.me/919744340057?text=I'm%20interested%20in%20${encodeURIComponent(selectedProduct.name)}`}
                  target="_blank"
                >
                  <button className="whatsapp-btn">Order on WhatsApp</button>
                </a>
              </div>
            </div>
          )}

          <footer className="bg-black text-white text-center p-4">
            <p>Gadget Cave :- ðŸšš All Kerala Delivery Available ðŸšš</p>
          </footer>
        </div>
      );
    };

    try {
      ReactDOM.render(<App />, document.getElementById('root'));
    } catch (error) {
      console.error('Error rendering React app:', error);
      document.getElementById('root').innerHTML = '<p>Error loading Gadget Cave. Please check the console for details.</p>';
    }
  </script>
</body>
</html>
